{% extends 'portfoliohut/base.html' %}
{% load static %}
<!-- {% load render_table from django_tables2 %} -->
{% block head %}
{% load ajax_table from ajax_table %}
  <!-- <script>
      window.addEventListener("load",function(){
        let row = document.querySelectorAll('[data-username="{{request.user.username}}"]')[0];
        row.classList.add("bg-light");
      }, false);
  </script> -->
  <title>{{ page_name }}</title>
{% endblock head %}
<!-- {% load render_table from django_tables2 %} -->

{% block content %}
  <!-- Page Title -->
  <h1 class="text-center" id="id_page_name">{{ page_name }}</h1>

  <!-- Friend's Comp Redirection -->
  {% if not competition_table and page_name == "Friends Competition" %}
    <div class="row mt-5">
      <h3 class="text-center">Make some friends! You can find some amazing traders
        <a href="{% url 'global-competition' %}">here</a>.
      </h3>
    </div>
  {% else %}

    <!-- Graph -->
    {% if graph %}
      {{ graph|safe }}
    {% endif %}

    <!-- Spinner -->
    <div class="spinner-border" role="status" id="spinner">
      <span class="sr-only">Loading...</span>
    </div>

    <!-- Competition Table -->
    <div class="container invisible" role="status" id="content">
      {% ajax_table "competition_table_id" "display-table" %}
    </div>
  {% endif %}

{% endblock content %}
